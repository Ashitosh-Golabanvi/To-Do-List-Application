{"ast":null,"code":"import React,{Component}from\"react\";import Modal from\"./components/Modal\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";class App extends Component{constructor(props){super(props);this.refreshList=()=>{axios.get(\"/api/todos/\").then(res=>this.setState({todoList:res.data})).catch(err=>console.log(err));};this.toggle=()=>{this.setState({modal:!this.state.modal});};this.handleSubmit=item=>{this.toggle();if(item.id){axios.put(\"/api/todos/\".concat(item.id,\"/\"),item).then(res=>this.refreshList());return;}axios.post(\"/api/todos/\",item).then(res=>this.refreshList());};this.handleDelete=item=>{axios.delete(\"/api/todos/\".concat(item.id,\"/\")).then(res=>this.refreshList());};this.createItem=()=>{const item={title:\"\",description:\"\",completed:false};this.setState({activeItem:item,modal:!this.state.modal});};this.editItem=item=>{this.setState({activeItem:item,modal:!this.state.modal});};this.displayCompleted=status=>{if(status){return this.setState({viewCompleted:true});}return this.setState({viewCompleted:false});};this.renderTabList=()=>{return/*#__PURE__*/_jsxs(\"div\",{className:\"nav nav-tabs\",children:[/*#__PURE__*/_jsx(\"span\",{onClick:()=>this.displayCompleted(true),className:this.state.viewCompleted?\"nav-link active\":\"nav-link\",children:\"Complete\"}),/*#__PURE__*/_jsx(\"span\",{onClick:()=>this.displayCompleted(false),className:this.state.viewCompleted?\"nav-link\":\"nav-link active\",children:\"Incomplete\"})]});};this.renderItems=()=>{const{viewCompleted}=this.state;const newItems=this.state.todoList.filter(item=>item.completed===viewCompleted);return newItems.map(item=>/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"todo-title mr-2 \".concat(this.state.viewCompleted?\"completed-todo\":\"\"),title:item.description,children:item.title}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary mr-2\",onClick:()=>this.editItem(item),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:()=>this.handleDelete(item),children:\"Delete\"})]})]},item.id));};this.state={viewCompleted:false,todoList:[],modal:false,activeItem:{title:\"\",description:\"\",completed:false}};}componentDidMount(){this.refreshList();}render(){return/*#__PURE__*/_jsxs(\"main\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-white text-uppercase text-center my-4\",children:\"Todo app\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 col-sm-10 mx-auto p-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card p-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:this.createItem,children:\"Add task\"})}),this.renderTabList(),/*#__PURE__*/_jsx(\"ul\",{className:\"list-group list-group-flush border-top-0\",children:this.renderItems()})]})})}),this.state.modal?/*#__PURE__*/_jsx(Modal,{activeItem:this.state.activeItem,toggle:this.toggle,onSave:this.handleSubmit}):null]});}}export default App;","map":{"version":3,"names":["React","Component","Modal","axios","jsx","_jsx","jsxs","_jsxs","App","constructor","props","refreshList","get","then","res","setState","todoList","data","catch","err","console","log","toggle","modal","state","handleSubmit","item","id","put","concat","post","handleDelete","delete","createItem","title","description","completed","activeItem","editItem","displayCompleted","status","viewCompleted","renderTabList","className","children","onClick","renderItems","newItems","filter","map","componentDidMount","render","onSave"],"sources":["D:/jango/React-Jango/ToDo/frontendd/src/App.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport Modal from \"./components/Modal\";\nimport axios from \"axios\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      viewCompleted: false,\n      todoList: [],\n      modal: false,\n      activeItem: {\n        title: \"\",\n        description: \"\",\n        completed: false,\n      },\n    };\n  }\n\n  componentDidMount() {\n    this.refreshList();\n  }\n\n  refreshList = () => {\n    axios\n      .get(\"/api/todos/\")\n      .then((res) => this.setState({ todoList: res.data }))\n      .catch((err) => console.log(err));\n  };\n\n  toggle = () => {\n    this.setState({ modal: !this.state.modal });\n  };\n\n  handleSubmit = (item) => {\n    this.toggle();\n\n    if (item.id) {\n      axios\n        .put(`/api/todos/${item.id}/`, item)\n        .then((res) => this.refreshList());\n      return;\n    }\n    axios\n      .post(\"/api/todos/\", item)\n      .then((res) => this.refreshList());\n  };\n\n  handleDelete = (item) => {\n    axios\n      .delete(`/api/todos/${item.id}/`)\n      .then((res) => this.refreshList());\n  };\n\n  createItem = () => {\n    const item = { title: \"\", description: \"\", completed: false };\n\n    this.setState({ activeItem: item, modal: !this.state.modal });\n  };\n\n  editItem = (item) => {\n    this.setState({ activeItem: item, modal: !this.state.modal });\n  };\n\n  displayCompleted = (status) => {\n    if (status) {\n      return this.setState({ viewCompleted: true });\n    }\n\n    return this.setState({ viewCompleted: false });\n  };\n\n  renderTabList = () => {\n    return (\n      <div className=\"nav nav-tabs\">\n        <span\n          onClick={() => this.displayCompleted(true)}\n          className={this.state.viewCompleted ? \"nav-link active\" : \"nav-link\"}\n        >\n          Complete\n        </span>\n        <span\n          onClick={() => this.displayCompleted(false)}\n          className={this.state.viewCompleted ? \"nav-link\" : \"nav-link active\"}\n        >\n          Incomplete\n        </span>\n      </div>\n    );\n  };\n\n  renderItems = () => {\n    const { viewCompleted } = this.state;\n    const newItems = this.state.todoList.filter(\n      (item) => item.completed === viewCompleted\n    );\n\n    return newItems.map((item) => (\n      <li\n        key={item.id}\n        className=\"list-group-item d-flex justify-content-between align-items-center\"\n      >\n        <span\n          className={`todo-title mr-2 ${\n            this.state.viewCompleted ? \"completed-todo\" : \"\"\n          }`}\n          title={item.description}\n        >\n          {item.title}\n        </span>\n        <span>\n          <button\n            className=\"btn btn-secondary mr-2\"\n            onClick={() => this.editItem(item)}\n          >\n            Edit\n          </button>\n          <button\n            className=\"btn btn-danger\"\n            onClick={() => this.handleDelete(item)}\n          >\n            Delete\n          </button>\n        </span>\n      </li>\n    ));\n  };\n\n  render() {\n    return (\n      <main className=\"container\">\n        <h1 className=\"text-white text-uppercase text-center my-4\">Todo app</h1>\n        <div className=\"row\">\n          <div className=\"col-md-6 col-sm-10 mx-auto p-0\">\n            <div className=\"card p-3\">\n              <div className=\"mb-4\">\n                <button\n                  className=\"btn btn-primary\"\n                  onClick={this.createItem}\n                >\n                  Add task\n                </button>\n              </div>\n              {this.renderTabList()}\n              <ul className=\"list-group list-group-flush border-top-0\">\n                {this.renderItems()}\n              </ul>\n            </div>\n          </div>\n        </div>\n        {this.state.modal ? (\n          <Modal\n            activeItem={this.state.activeItem}\n            toggle={this.toggle}\n            onSave={this.handleSubmit}\n          />\n        ) : null}\n      </main>\n    );\n  }\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}